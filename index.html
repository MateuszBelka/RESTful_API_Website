<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="Screen.css">
		<title>Grocery Delivery</title>

		<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
		<script>
			$( document ).ready(function() {
				getDatabase();
			});

			function sortTable(n, tableClass) {
				var table, rows, switching, i, x, y, shouldSwitch, switchcount = 0;
				table = document.getElementsByClassName(tableClass)[0];
				switching = true;
				while (switching) {
					switching = false;
					rows = table.rows;
					for (i = 1; i < (rows.length - 1); i++) {
						shouldSwitch = false;
						x = rows[i].getElementsByTagName("TD")[n];
						y = rows[i + 1].getElementsByTagName("TD")[n];
						if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
							shouldSwitch= true;
							break;
						}
					}
					if (shouldSwitch) {
						rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
						switching = true;
						switchcount ++;
					}
				}
			}

			function resetDatabase() {
				var xhttp = new XMLHttpRequest();
				xhttp.open("GET", "https://wt.ops.labs.vu.nl/api19/bc9041de/reset", true);
  			xhttp.send();
				alert("Successful reset!");
			}

			function getDatabase() {
				var xhttp = new XMLHttpRequest();
				xhttp.onreadystatechange = function()  {
					if (this.readyState == 4 && this.status == 200) {
						alert("getDatabase works!");
	     			putJSONinTable(this.responseJSON);
	    		}
				}
				xhttp.open("GET","https://wt.ops.labs.vu.nl/api19/bc9041de",true);
				xhttp.send();
			}

			function putJSONinTable(data) {
				var i, table = "";
				var obj = JSON.parse(data);
				console.log(JSON.stringify(obj));
				var count = Object.keys(obj).length;
				for (i = 0; i < count; i++) {
					table += "<tr><td>" + data.product[i]+ "</td><td>" + data.origin[i] +
					"</td><td>" + data.best_before_date[i] + "</td><td>" + data.amount[i] +
					"</td><td>"	+ data.image[i] + "</td></tr>";
	      }
				document.getElementById("body").innerHTML = table;
			}
		</script>
	</head>
	<body>
		<div class="Start">
			<span class="title">Grocery Delivery</span>
			<span class="quote">Working from 10<abbr title="before noon">AM </abbr>till 11<abbr title="after noon">PM</abbr> everyday.</span>
		</div>
		<nav>
			<a href="index-products.html">Products</a>
			<a href="index-location.html">Location</a>
			<a href="index-service.html">Service</a>
			<a href="index-business.html">For business</a>
			<a class="about" href="index-about.html">About</a>
		</nav>
    <section class="Lists">
			<h2 class="ListsTitle">
				Why should you choose us?
			</h2>
			<ul>
				<li>
					<strong>Our values:</strong>
					<ol>
						<li>Highest quality</li>
						<li>Fastest delivery</li>
						<li>Best variaty of products</li>
					</ol>
				</li>
				<li>
					<strong>Reviews:</strong>
					<dl>
						<dt>@happybob123</dt>
						<dd><em><q>The best delivery service in Amsterdam</q></em></dd>
						<dt>@annoyingboyfriend69420</dt>
						<dd><em><q>Very cheap, very good. Recommend 5/5 stars</q></em></dd>
					</dl>
				</li>
			</ul>
		</section>
		<p class="ShopNote">
			We have started a trial in which the groceries will be delivered to clients in one part of Amsterdam within <strong> two hours</strong> from two stores:<em> Elandsgracht</em> and<em> Museumplein</em>. We see that time is an important factor for many customers. We are already responding to this at home with a wide choice in delivery times and track &amp; trace. With this &apos;instant delivery&apos; test, we want to investigate whether ordering and delivering the groceries within the hour is something we enjoy with our customers.
		</p>
		<pre class="BigQuote">
Your favourite food,
delivered to you today!
	  </pre>
		<div class="row">
			<div class="column1">
        <form action="https://wt.ops.labs.vu.nl/api19/bc9041de" method="post" id="my_form"></form>
        <table class="myTable1">
        <caption class="TableCaption">Bestsellers</caption>
					<thead>
          	<tr>
            	<th onclick="sortTable(0, 'myTable1')">Product</th>
            	<th onclick="sortTable(1, 'myTable1')">Origin</th>
            	<th>Best Before Date</th>
            	<th>Amount</th>
            	<th>Image</th>
          	</tr>
					</thead>
					<tbody id = "body"></tbody>
          <tr>
            <td><input type="text" name="product" form="my_form" required/></td>
            <td><input type="text" name="origin" form="my_form" required/></td>
            <td><input type="date" name="best_before_date" form="my_form" required/></td>
            <td><input type="text" name="amount" form="my_form" required/></td>
            <td><input type="url" name="image" form="my_form" required/></td>
          </tr>
        </table>
				<div>
	        <span class="submitButton">
	          <button type="submit" form="my_form" id="submitbtn">Submit</button>
	        </span>
					<span class="resetButton">
						<button onclick="resetDatabase()">Reset</button>
					</span>
				</div>
			</div>
      <div class="column2">
        <table class="myTable2">
          <caption class="TableCaption">Products of the day</caption>
          <tr>
            <th onclick="sortTable(0, 'myTable2')">Product</th>
            <th onclick="sortTable(1, 'myTable2')">Origin</th>
            <th>Price</th>
            <th>Image</th>
          </tr>
          <tr>
            <td>Iced Tea 1L</td>
            <td>Netherlands</td>
            <td><pre><s>2.50</s> 1.25</pre></td>
            <td><figure><img src="https://m.media-amazon.com/images/S/aplus-media/vc/3947b0ed-b3fd-43cd-9b86-84cbf9a4bc63.jpg" alt="Iced Tea" width="150" height="150"><figcaption>Iced Tea</figcaption></figure></td>
          </tr>
          <tr>
            <td>Red wine</td>
            <td>France</td>
            <td><pre><s>7.00</s> 4.50</pre></td>
            <td><figure><img src="https://www.mailabottle.co.uk/images/stories/virtuemart/product/Red%20Orchid.jpg" alt="Red wine" width="150" height="150"><figcaption>Red wine</figcaption></figure></td>
          </tr>
          <tr>
            <td>Cheese</td>
            <td>Italy</td>
            <td><pre><s>5.50</s> 3.80</pre></td>
            <td><figure><img src="https://www.bigbasket.com/media/uploads/p/l/104613_3-amul-cheese-gouda.jpg" alt="Cheese" width="150" height="150"><figcaption>Cheese</figcaption></figure></td>
          </tr>
        </table>
      </div>
    </div>
		<div class="jump">
			<a href="#">Jump to start of the page</a>
		</div>
	</body>
</html>

<!--
<tr>
	<td>Orange</td>
	<td>Spain</td>
	<td>01/04/2019</td>
	<td>80kg</td>
	<td><figure><img src="http://cedarome.com/wp-content/uploads/2018/11/orange.jpg" alt="Orange" width="150" height="150"><figcaption>Orange</figcaption></figure></td>
</tr>
<tr>
	<td>Chocolate</td>
	<td>Belgium</td>
	<td>01/12/2019</td>
	<td>30kg</td>
	<td><figure><img src="https://rukminim1.flixcart.com/image/832/832/chocolate/m/b/p/chocholik-100-milk-33-cacao-bar-luxury-belgium-original-imaekz95aedz4yh6.jpeg?q=70" alt="Chocolate" width="150" height="150"><figcaption>Chocolate</figcaption></figure></td>
</tr>
<tr>
	<td>Fresh Juice</td>
	<td>Netherlands</td>
	<td>14/01/2019</td>
	<td>20 items</td>
	<td><figure><img src="https://cdn.shopify.com/s/files/1/0210/9772/products/1024x1024_new__0041_01_grande.jpg?v=1479441377" alt="Fresh Juice" width="150" height="150" ><figcaption>Fresh Juice</figcaption></figure></td>
</tr>
-->
